/*Create database*/
CREATE DATABASE IF NOT EXISTS `datawarehouse_db`;

/*Allow remote access for root user & Add password to root user*/
UPDATE mysql.user SET authentication_string = PASSWORD('root'), plugin='mysql_native_password', host='%' WHERE User = 'root' AND host='localhost';

/*Grant all privileges to root user*/
GRANT ALL PRIVILEGES ON *.* TO 'root'@'%';

/*Add read user and grant only select privilege*/
CREATE USER IF NOT EXISTS 'read_user'@'%' IDENTIFIED BY 'read_user';
GRANT SELECT ON `datawarehouse_db`.* TO'read_user'@'%';

/*Refresh user privileges*/
FLUSH PRIVILEGES;

/*Use datawarehouse database*/
USE `datawarehouse_db`;

/*Set etl variable*/
SET NAMES utf8;
SET time_zone = '+00:00';
SET foreign_key_checks = 0;
SET sql_mode = 'NO_AUTO_VALUE_ON_ZERO';

/*Create etl tables*/
CREATE TABLE IF NOT EXISTS `etl_art_master_list` (
  `Facility` varchar(34) CHARACTER SET utf8 DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `unique_patient_no` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_clinic_number` varchar(15) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `DOB` date DEFAULT NULL,
  `age` decimal(23,1) DEFAULT NULL,
  `Gender` varchar(10) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `location` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `ward` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `sub_location` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `village` varchar(255) CHARACTER SET utf8 DEFAULT NULL,
  `education_level` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `marital_status` varchar(50) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
  `hiv_test_date` date DEFAULT NULL,
  `date_first_enrolled_in_care` date DEFAULT NULL,
  `Enrollment_Date` date DEFAULT NULL,
  `Enrolled_in_pmtct` varchar(3) CHARACTER SET utf8mb4 DEFAULT NULL,
  `pmtct_date_enrolled` date,
  `pmtct_date_completed` date DEFAULT NULL,
  `Enrolled_in_otz` varchar(3) CHARACTER SET utf8mb4 DEFAULT NULL,
  `otz_date_enrolled` date,
  `otz_date_completed` date DEFAULT NULL,
  `Enrolled_in_ovc` varchar(3) CHARACTER SET utf8mb4 DEFAULT NULL,
  `ovc_date_enrolled` date,
  `ovc_date_completed` date DEFAULT NULL,
  `Start_regimen` varchar(21) CHARACTER SET utf8mb4 DEFAULT NULL,
  `Start_regimen_date` datetime DEFAULT NULL,
  `current_regimen` varchar(21) CHARACTER SET utf8mb4 DEFAULT NULL,
  `current_regimen_date` datetime DEFAULT NULL,
  `baseline_cd4` double DEFAULT NULL,
  `baseline_cd4_date` datetime DEFAULT NULL,
  `Pending_VL_order_date` date DEFAULT NULL,
  `VL_latest` double DEFAULT NULL,
  `VL_latest_date` date DEFAULT NULL,
  `VL2` double DEFAULT NULL,
  `VL2_date` date DEFAULT NULL,
  `VL3` double DEFAULT NULL,
  `VL3_date` date DEFAULT NULL,
  `VL4` double DEFAULT NULL,
  `VL4_date` date DEFAULT NULL,
  `arv_adherence` varchar(10) CHARACTER SET utf8 DEFAULT NULL,
  `tb_screening_result` varchar(21) CHARACTER SET utf8 DEFAULT NULL,
  `tb_screening_date` date DEFAULT NULL,
  `on_anti_tb_drugs` varchar(3) CHARACTER SET utf8 DEFAULT NULL,
  `tb_date_enrolled` date,
  `tb_date_completed` date DEFAULT NULL,
  `ever_on_ipt` varchar(3) CHARACTER SET utf8 DEFAULT NULL,
  `on_ipt` varchar(3) CHARACTER SET utf8 DEFAULT NULL,
  `ipt_date_enrolled` date,
  `ipt_date_completed` date DEFAULT NULL,
  `Last_Visit_date` date DEFAULT NULL,
  `Appointment_date` date DEFAULT NULL,
  `duration_in_days` bigint(21) DEFAULT NULL,
  `ART_Status` varchar(8) CHARACTER SET utf8mb4 DEFAULT NULL,
  `days_missed` bigint(21) DEFAULT NULL,
  `stable` varchar(14) CHARACTER SET utf8 DEFAULT NULL,
  `dc_model` varchar(37) CHARACTER SET utf8 DEFAULT NULL,
  `cacx_screening` varchar(8) CHARACTER SET utf8 DEFAULT NULL,
  `family_planning_status` varchar(25) CHARACTER SET utf8 DEFAULT NULL,
  `family_planning_method` varchar(29) CHARACTER SET utf8 DEFAULT NULL,
  `reason_not_using_family_planning` varchar(25) CHARACTER SET utf8 DEFAULT NULL,
  `Discontinuation_date` datetime DEFAULT NULL,
  `discontinuation_reason` varchar(23) CHARACTER SET utf8 DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

CREATE TABLE IF NOT EXISTS `etl_adverse_events` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `obs_id` int(11) NOT NULL,
  `cause` int(11) DEFAULT NULL,
  `adverse_event` int(11) DEFAULT NULL,
  `severity` int(11) DEFAULT NULL,
  `start_date` date DEFAULT NULL,
  `action_taken` int(11) DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`obs_id`),
  KEY `visit_date` (`visit_date`),
  KEY `patient_id` (`patient_id`),
  KEY `encounter_id` (`encounter_id`),
  KEY `obs_id` (`obs_id`),
  CONSTRAINT `etl_adverse_events_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_alcohol_drug_abuse_screening` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `alcohol_drinking_frequency` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `smoking_frequency` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `drugs_use_frequency` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_alcohol_drug_abuse_screening_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_allergy_chronic_illness` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `obs_id` int(11) NOT NULL,
  `chronic_illness` int(11) DEFAULT NULL,
  `chronic_illness_onset_date` date DEFAULT NULL,
  `allergy_causative_agent` int(11) DEFAULT NULL,
  `allergy_reaction` int(11) DEFAULT NULL,
  `allergy_severity` int(11) DEFAULT NULL,
  `allergy_onset_date` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`obs_id`),
  KEY `visit_date` (`visit_date`),
  KEY `patient_id` (`patient_id`),
  KEY `encounter_id` (`encounter_id`),
  KEY `obs_id` (`obs_id`),
  CONSTRAINT `etl_allergy_chronic_illness_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ART_preparation` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `provider` int(11) DEFAULT NULL,
  `understands_hiv_art_benefits` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `screened_negative_substance_abuse` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `screened_negative_psychiatric_illness` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `HIV_status_disclosure` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `trained_drug_admin` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `informed_drug_side_effects` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `caregiver_committed` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adherance_barriers_identified` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `caregiver_location_contacts_known` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ready_to_start_art` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `identified_drug_time` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_supporter_engaged` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `support_grp_meeting_awareness` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `enrolled_in_reminder_system` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_support_systems` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `ready_to_start_art` (`ready_to_start_art`),
  CONSTRAINT `etl_art_preparation_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ccc_defaulter_tracing` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `tracing_type` int(11) DEFAULT NULL,
  `tracing_outcome` int(11) DEFAULT NULL,
  `attempt_number` int(11) DEFAULT NULL,
  `is_final_trace` int(11) DEFAULT NULL,
  `true_status` int(11) DEFAULT NULL,
  `cause_of_death` int(11) DEFAULT NULL,
  `comments` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `booking_date` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `true_status` (`true_status`),
  KEY `cause_of_death` (`cause_of_death`),
  KEY `tracing_type` (`tracing_type`),
  CONSTRAINT `etl_ccc_defaulter_tracing_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_cervical_cancer_screening` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `screening_number` int(11) DEFAULT NULL,
  `screening_method` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `screening_result` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `previous_screening_method` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `previous_screening_date` date DEFAULT NULL,
  `previous_screening_result` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `screening_number` (`screening_number`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_cervical_cancer_screening_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_client_enrollment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `client_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `contacted_for_prevention` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `has_regular_free_sex_partner` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `year_started_sex_work` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `year_started_sex_with_men` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `year_started_drugs` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `has_expereienced_sexual_violence` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `has_expereienced_physical_violence` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ever_tested_for_hiv` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `share_test_results` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `willing_to_test` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_decline_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `receiving_hiv_care` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `care_facility_name` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ccc_number` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_test_done` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_results_date` date DEFAULT NULL,
  `contact_for_appointment` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `contact_method` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_phone_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `client_id` (`client_id`),
  CONSTRAINT `etl_client_enrollment_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_client_trace` (
  `id` int(11) DEFAULT NULL,
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `encounter_date` datetime DEFAULT NULL,
  `client_id` int(11) DEFAULT NULL,
  `contact_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `unique_patient_no` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `facility_linked_to` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `health_worker_handed_to` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `remarks` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_date` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `client_id` (`client_id`),
  KEY `date_created` (`date_created`),
  KEY `id` (`id`),
  KEY `id_2` (`id`,`date_created`),
  CONSTRAINT `etl_client_trace_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_contact` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_clinical_visit` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `client_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `implementing_partner` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `type_of_visit` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `visit_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `service_delivery_model` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sti_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sti_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sti_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sti_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sti_referred_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tb_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tb_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tb_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tb_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tb_referred_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisB_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisB_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisB_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisB_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisB_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisC_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisC_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisC_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisC_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hepatitisC_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `overdose_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `overdose_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `overdose_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `received_naloxone` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `overdose_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `overdose_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `abscess_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `abscess_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `abscess_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `abscess_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `abscess_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `alcohol_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `alcohol_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `alcohol_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `alcohol_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `alcohol_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cerv_cancer_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cerv_cancer_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cerv_cancer_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cerv_cancer_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cerv_cancer_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `violence_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `violence_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `violence_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `violence_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `violence_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_red_counselling_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_red_counselling_eligibility` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_red_counselling_support` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_red_counselling_ebi_provided` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_red_counselling_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_eligibility` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mental_health_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mental_health_results` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mental_health_support` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mental_health_referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mental_health_text` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hiv_self_rep_status` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `last_hiv_test_setting` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `counselled_for_hiv` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hiv_tested` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_frequency` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `received_results` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_results` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `linked_to_art` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `facility_linked_to` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_test_education` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_test_kits_given` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_use_kits` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `distribution_kits` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_tested` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_test_date` date DEFAULT NULL,
  `self_test_frequency` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_test_results` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_confirmatory_results` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `confirmatory_facility` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `offsite_confirmatory_facility` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_test_linked_art` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `self_test_link_facility` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hiv_care_facility` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_hiv_care_facility` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `initiated_art_this_month` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `active_art` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `eligible_vl` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_test_done` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_results` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `received_vl_results` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `condom_use_education` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `post_abortal_care` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `linked_to_psychosocial` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `male_condoms_no` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `female_condoms_no` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `lubes_no` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `syringes_needles_no` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pep_eligible` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `exposure_type` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_exposure_type` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `clinical_notes` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_date` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `client_id` (`client_id`),
  KEY `client_id_2` (`client_id`,`visit_date`),
  CONSTRAINT `etl_clinical_visit_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_contact` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `unique_identifier` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `client_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `key_population_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `contacted_by_peducator` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `program_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `frequent_hotspot_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `frequent_hotspot_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `year_started_sex_work` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `year_started_sex_with_men` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `year_started_drugs` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `avg_weekly_sex_acts` int(11) DEFAULT NULL,
  `avg_weekly_anal_sex_acts` int(11) DEFAULT NULL,
  `avg_daily_drug_injections` int(11) DEFAULT NULL,
  `contact_person_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `contact_person_alias` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `contact_person_phone` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `client_id` (`client_id`),
  KEY `unique_identifier` (`unique_identifier`),
  KEY `key_population_type` (`key_population_type`),
  CONSTRAINT `etl_contact_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_current_in_care` (
  `visit_date` date DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `dob` date DEFAULT NULL,
  `Gender` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `enroll_date` date DEFAULT NULL,
  `latest_enrolment_date` date DEFAULT NULL,
  `latest_vis_date` date DEFAULT NULL,
  `latest_tca` varchar(50) CHARACTER SET utf8 DEFAULT NULL,
  `stability` varchar(53) CHARACTER SET utf8 DEFAULT NULL,
  `disc_patient` int(11),
  `effective_disc_date` date DEFAULT NULL,
  `date_discontinued` datetime DEFAULT NULL,
  `started_on_drugs` int(11),
  KEY `enroll_date` (`enroll_date`),
  KEY `latest_vis_date` (`latest_vis_date`),
  KEY `latest_tca` (`latest_tca`),
  KEY `started_on_drugs` (`started_on_drugs`),
  KEY `patient_id` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_default_facility_info` (
  `siteCode` mediumtext CHARACTER SET utf8,
  `FacilityName` varchar(255) CHARACTER SET utf8 DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_depression_screening` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `PHQ_9_rating` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_depression_screening_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_drug_event` (
  `uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `patient_id` int(11) NOT NULL,
  `date_started` date DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `program` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `regimen` mediumtext COLLATE utf8_unicode_ci,
  `regimen_name` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `regimen_line` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `discontinued` int(11) DEFAULT NULL,
  `regimen_discontinued` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `regimen_stopped` int(11) DEFAULT NULL,
  `date_discontinued` date DEFAULT NULL,
  `reason_discontinued` int(11) DEFAULT NULL,
  `reason_discontinued_other` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `date_started` (`date_started`),
  KEY `date_discontinued` (`date_discontinued`),
  KEY `patient_id_2` (`patient_id`,`date_started`),
  CONSTRAINT `etl_drug_event_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_enhanced_adherence` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `provider` int(11) DEFAULT NULL,
  `session_number` int(11) DEFAULT NULL,
  `first_session_date` date DEFAULT NULL,
  `pill_count` int(11) DEFAULT NULL,
  `arv_adherence` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `has_vl_results` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_results_suppressed` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_results_feeling` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cause_of_high_vl` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `way_forward` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_hiv_knowledge` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_drugs_uptake` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_drugs_reminder_tools` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_drugs_uptake_during_travels` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_drugs_side_effects_response` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_drugs_uptake_most_difficult_times` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_drugs_daily_uptake_feeling` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_ambitions` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_has_people_to_talk` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_enlisting_social_support` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_income_sources` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_challenges_reaching_clinic` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_worried_of_accidental_disclosure` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_treated_differently` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `stigma_hinders_adherence` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_tried_faith_healing` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_adherence_improved` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_doses_missed` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `review_and_barriers_to_adherence` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_referrals` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointments_honoured` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referral_experience` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `home_visit_benefit` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adherence_plan` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `next_appointment_date` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_enhanced_adherence_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_gbv_screening` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `ipv` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `physical_ipv` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `emotional_ipv` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sexual_ipv` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ipv_relationship` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_gbv_screening_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_gbv_screening_action` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `obs_id` int(11) NOT NULL,
  `help_provider` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `action_taken` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `reason_for_not_reporting` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`obs_id`),
  KEY `visit_date` (`visit_date`),
  KEY `obs_id` (`obs_id`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_gbv_screening_action_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hei_enrollment` (
  `serial_no` int(11) NOT NULL AUTO_INCREMENT,
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `child_exposed` int(11) DEFAULT NULL,
  `hei_id_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `spd_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `birth_weight` double DEFAULT NULL,
  `gestation_at_birth` double DEFAULT NULL,
  `date_first_seen` date DEFAULT NULL,
  `birth_notification_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `birth_certificate_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `need_for_special_care` int(11) DEFAULT NULL,
  `reason_for_special_care` int(11) DEFAULT NULL,
  `referral_source` int(11) DEFAULT NULL,
  `transfer_in` int(11) DEFAULT NULL,
  `transfer_in_date` date DEFAULT NULL,
  `facility_transferred_from` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `district_transferred_from` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_first_enrolled_in_hei_care` date DEFAULT NULL,
  `arv_prophylaxis` int(11) DEFAULT NULL,
  `mother_breastfeeding` int(11) DEFAULT NULL,
  `mother_on_NVP_during_breastfeeding` int(11) DEFAULT NULL,
  `TB_contact_history_in_household` int(11) DEFAULT NULL,
  `infant_mother_link` int(11) DEFAULT NULL,
  `mother_alive` int(11) DEFAULT NULL,
  `mother_on_pmtct_drugs` int(11) DEFAULT NULL,
  `mother_on_drug` int(11) DEFAULT NULL,
  `mother_on_art_at_infant_enrollment` int(11) DEFAULT NULL,
  `mother_drug_regimen` int(11) DEFAULT NULL,
  `infant_prophylaxis` int(11) DEFAULT NULL,
  `parent_ccc_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mode_of_delivery` int(11) DEFAULT NULL,
  `place_of_delivery` int(11) DEFAULT NULL,
  `birth_length` int(11) DEFAULT NULL,
  `birth_order` int(11) DEFAULT NULL,
  `health_facility_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_of_birth_notification` date DEFAULT NULL,
  `date_of_birth_registration` date DEFAULT NULL,
  `birth_registration_place` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `permanent_registration_serial` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `mother_facility_registered` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `exit_date` date DEFAULT NULL,
  `exit_reason` int(11) DEFAULT NULL,
  `hiv_status_at_exit` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `transfer_in` (`transfer_in`),
  KEY `child_exposed` (`child_exposed`),
  KEY `need_for_special_care` (`need_for_special_care`),
  KEY `reason_for_special_care` (`reason_for_special_care`),
  KEY `referral_source` (`referral_source`),
  KEY `transfer_in_2` (`transfer_in`),
  KEY `serial_no` (`serial_no`),
  CONSTRAINT `etl_hei_enrollment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hei_follow_up_visit` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `weight` double DEFAULT NULL,
  `height` double DEFAULT NULL,
  `primary_caregiver` int(11) DEFAULT NULL,
  `infant_feeding` int(11) DEFAULT NULL,
  `tb_assessment_outcome` int(11) DEFAULT NULL,
  `social_smile_milestone` int(11) DEFAULT NULL,
  `head_control_milestone` int(11) DEFAULT NULL,
  `response_to_sound_milestone` int(11) DEFAULT NULL,
  `hand_extension_milestone` int(11) DEFAULT NULL,
  `sitting_milestone` int(11) DEFAULT NULL,
  `walking_milestone` int(11) DEFAULT NULL,
  `standing_milestone` int(11) DEFAULT NULL,
  `talking_milestone` int(11) DEFAULT NULL,
  `review_of_systems_developmental` int(11) DEFAULT NULL,
  `dna_pcr_sample_date` date DEFAULT NULL,
  `dna_pcr_contextual_status` int(11) DEFAULT NULL,
  `dna_pcr_result` int(11) DEFAULT NULL,
  `dna_pcr_dbs_sample_code` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `dna_pcr_results_date` date DEFAULT NULL,
  `azt_given` int(11) DEFAULT NULL,
  `nvp_given` int(11) DEFAULT NULL,
  `ctx_given` int(11) DEFAULT NULL,
  `first_antibody_sample_date` date DEFAULT NULL,
  `first_antibody_result` int(11) DEFAULT NULL,
  `first_antibody_dbs_sample_code` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `first_antibody_result_date` date DEFAULT NULL,
  `final_antibody_sample_date` date DEFAULT NULL,
  `final_antibody_result` int(11) DEFAULT NULL,
  `final_antibody_dbs_sample_code` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `final_antibody_result_date` date DEFAULT NULL,
  `tetracycline_ointment_given` int(11) DEFAULT NULL,
  `pupil_examination` int(11) DEFAULT NULL,
  `sight_examination` int(11) DEFAULT NULL,
  `squint` int(11) DEFAULT NULL,
  `deworming_drug` int(11) DEFAULT NULL,
  `dosage` int(11) DEFAULT NULL,
  `unit` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `next_appointment_date` date DEFAULT NULL,
  `comments` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `infant_feeding` (`infant_feeding`),
  CONSTRAINT `etl_hei_follow_up_visit_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hei_immunization` (
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_date` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `BCG` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `OPV_birth` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `OPV_1` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `OPV_2` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `OPV_3` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `IPV` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `DPT_Hep_B_Hib_1` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `DPT_Hep_B_Hib_2` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `DPT_Hep_B_Hib_3` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `PCV_10_1` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `PCV_10_2` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `PCV_10_3` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ROTA_1` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ROTA_2` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `Measles_rubella_1` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `Measles_rubella_2` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `Yellow_fever` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `Measles_6_months` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `VitaminA_6_months` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `VitaminA_1_yr` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `VitaminA_1_and_half_yr` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `VitaminA_2_yr` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `VitaminA_2_to_5_yr` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fully_immunized` date DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_hei_immunization_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hiv_enrollment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `patient_type` int(11) DEFAULT NULL,
  `date_first_enrolled_in_care` date DEFAULT NULL,
  `entry_point` int(11) DEFAULT NULL,
  `transfer_in_date` date DEFAULT NULL,
  `facility_transferred_from` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `district_transferred_from` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_started_art_at_transferring_facility` date DEFAULT NULL,
  `date_confirmed_hiv_positive` date DEFAULT NULL,
  `facility_confirmed_hiv_positive` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `previous_regimen` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `arv_status` int(11) DEFAULT NULL,
  `name_of_treatment_supporter` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `relationship_of_treatment_supporter` int(11) DEFAULT NULL,
  `treatment_supporter_telephone` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_supporter_address` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `in_school` int(11) DEFAULT NULL,
  `orphan` int(11) DEFAULT NULL,
  `date_of_discontinuation` datetime DEFAULT NULL,
  `discontinuation_reason` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_id` (`visit_id`),
  KEY `visit_date` (`visit_date`),
  KEY `date_started_art_at_transferring_facility` (`date_started_art_at_transferring_facility`),
  KEY `arv_status` (`arv_status`),
  KEY `date_confirmed_hiv_positive` (`date_confirmed_hiv_positive`),
  KEY `entry_point` (`entry_point`),
  KEY `transfer_in_date` (`transfer_in_date`),
  KEY `date_first_enrolled_in_care` (`date_first_enrolled_in_care`),
  KEY `entry_point_2` (`entry_point`,`transfer_in_date`,`visit_date`,`patient_id`),
  CONSTRAINT `etl_hiv_enrollment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hts_linkage_tracing` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `tracing_type` int(11) DEFAULT NULL,
  `tracing_outcome` int(11) DEFAULT NULL,
  `reason_not_contacted` int(11) DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `tracing_type` (`tracing_type`),
  KEY `tracing_outcome` (`tracing_outcome`),
  KEY `reason_not_contacted` (`reason_not_contacted`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_hts_linkage_tracing_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hts_referral` (
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `encounter_location` int(11) NOT NULL,
  `creator` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `facility_referred_to` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_to_enrol` date DEFAULT NULL,
  `remarks` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hts_referral_and_linkage` (
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `encounter_location` int(11) NOT NULL,
  `creator` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `tracing_type` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tracing_status` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ccc_number` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `facility_linked_to` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `enrollment_date` date DEFAULT NULL,
  `art_start_date` date DEFAULT NULL,
  `provider_handed_to` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cadre` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `tracing_type` (`tracing_type`),
  KEY `tracing_status` (`tracing_status`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_hts_test` (
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `encounter_uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `encounter_location` int(11) NOT NULL,
  `creator` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `test_type` int(11) DEFAULT NULL,
  `population_type` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `key_population_type` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ever_tested_for_hiv` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `months_since_last_test` int(11) DEFAULT NULL,
  `patient_disabled` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `disability_type` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_consented` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `client_tested_as` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `setting` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `approach` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_strategy` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hts_entry_point` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_expiry` date DEFAULT NULL,
  `test_1_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_expiry` date DEFAULT NULL,
  `test_2_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `final_test_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_given_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `couple_discordant` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tb_screening` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_had_hiv_self_test` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `remarks` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_id` (`visit_id`),
  KEY `tb_screening` (`tb_screening`),
  KEY `visit_date` (`visit_date`),
  KEY `population_type` (`population_type`),
  KEY `test_type` (`test_type`),
  KEY `final_test_result` (`final_test_result`),
  KEY `couple_discordant` (`couple_discordant`),
  KEY `test_1_kit_name` (`test_1_kit_name`),
  KEY `test_2_kit_name` (`test_2_kit_name`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ipt_follow_up` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `ipt_due_date` date DEFAULT NULL,
  `date_collected_ipt` date DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `hepatotoxity` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `peripheral_neuropathy` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `rash` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adherence` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `action_taken` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `hepatotoxity` (`hepatotoxity`),
  KEY `peripheral_neuropathy` (`peripheral_neuropathy`),
  KEY `rash` (`rash`),
  KEY `adherence` (`adherence`),
  CONSTRAINT `etl_ipt_follow_up_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ipt_initiation` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `ipt_indication` int(11) DEFAULT NULL,
  `sub_county_reg_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sub_county_reg_date` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_ipt_initiation_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ipt_outcome` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `outcome` int(11) DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `outcome` (`outcome`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_ipt_outcome_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ipt_screening` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) DEFAULT NULL,
  `obs_id` int(11) NOT NULL,
  `cough` int(11) DEFAULT NULL,
  `fever` int(11) DEFAULT NULL,
  `weight_loss_poor_gain` int(11) DEFAULT NULL,
  `night_sweats` int(11) DEFAULT NULL,
  `contact_with_tb_case` int(11) DEFAULT NULL,
  `lethargy` int(11) DEFAULT NULL,
  `yellow_urine` int(11) DEFAULT NULL,
  `numbness_bs_hands_feet` int(11) DEFAULT NULL,
  `eyes_yellowness` int(11) DEFAULT NULL,
  `upper_rightQ_abdomen_tenderness` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`obs_id`),
  KEY `visit_date` (`visit_date`),
  KEY `patient_id` (`patient_id`),
  KEY `obs_id` (`obs_id`),
  KEY `visit_date_2` (`visit_date`,`patient_id`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_ipt_screening_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_laboratory_extract` (
  `uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `encounter_id` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `order_id` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `lab_test` varchar(180) COLLATE utf8_unicode_ci DEFAULT NULL,
  `urgency` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `order_reason` varchar(180) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_result` varchar(180) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_test_requested` date DEFAULT NULL,
  `date_test_result_received` date DEFAULT NULL,
  `test_requested_by` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`uuid`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `lab_test` (`lab_test`),
  KEY `test_result` (`test_result`),
  CONSTRAINT `etl_laboratory_extract_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_last_month_newly_enrolled_in_care` (
  `patient_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_last_month_newly_on_art` (
  `patient_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_mchs_delivery` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `admission_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `duration_of_pregnancy` double DEFAULT NULL,
  `mode_of_delivery` int(11) DEFAULT NULL,
  `date_of_delivery` datetime DEFAULT NULL,
  `blood_loss` int(11) DEFAULT NULL,
  `condition_of_mother` int(11) DEFAULT NULL,
  `apgar_score_1min` double DEFAULT NULL,
  `apgar_score_5min` double DEFAULT NULL,
  `apgar_score_10min` double DEFAULT NULL,
  `resuscitation_done` int(11) DEFAULT NULL,
  `place_of_delivery` int(11) DEFAULT NULL,
  `delivery_assistant` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `counseling_on_infant_feeding` int(11) DEFAULT NULL,
  `counseling_on_exclusive_breastfeeding` int(11) DEFAULT NULL,
  `counseling_on_infant_feeding_for_hiv_infected` int(11) DEFAULT NULL,
  `mother_decision` int(11) DEFAULT NULL,
  `placenta_complete` int(11) DEFAULT NULL,
  `maternal_death_audited` int(11) DEFAULT NULL,
  `cadre` int(11) DEFAULT NULL,
  `delivery_complications` int(11) DEFAULT NULL,
  `coded_delivery_complications` int(11) DEFAULT NULL,
  `other_delivery_complications` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `duration_of_labor` int(11) DEFAULT NULL,
  `baby_sex` int(11) DEFAULT NULL,
  `baby_condition` int(11) DEFAULT NULL,
  `teo_given` int(11) DEFAULT NULL,
  `birth_weight` int(11) DEFAULT NULL,
  `bf_within_one_hour` int(11) DEFAULT NULL,
  `birth_with_deformity` int(11) DEFAULT NULL,
  `test_1_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_expiry` date DEFAULT NULL,
  `test_1_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_expiry` date DEFAULT NULL,
  `test_2_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `final_test_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_given_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_hiv_tested` int(11) DEFAULT NULL,
  `partner_hiv_status` int(11) DEFAULT NULL,
  `prophylaxis_given` int(11) DEFAULT NULL,
  `baby_azt_dispensed` int(11) DEFAULT NULL,
  `baby_nvp_dispensed` int(11) DEFAULT NULL,
  `clinical_notes` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `final_test_result` (`final_test_result`),
  KEY `baby_sex` (`baby_sex`),
  KEY `partner_hiv_tested` (`partner_hiv_tested`),
  KEY `partner_hiv_status` (`partner_hiv_status`),
  CONSTRAINT `etl_mchs_delivery_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_mchs_discharge` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `counselled_on_feeding` int(11) DEFAULT NULL,
  `baby_status` int(11) DEFAULT NULL,
  `vitamin_A_dispensed` int(11) DEFAULT NULL,
  `birth_notification_number` int(50) DEFAULT NULL,
  `condition_of_mother` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `discharge_date` date DEFAULT NULL,
  `referred_from` int(11) DEFAULT NULL,
  `referred_to` int(11) DEFAULT NULL,
  `clinical_notes` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `baby_status` (`baby_status`),
  KEY `discharge_date` (`discharge_date`),
  CONSTRAINT `etl_mchs_discharge_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_mch_antenatal_visit` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `provider` int(11) DEFAULT NULL,
  `anc_visit_number` int(11) DEFAULT NULL,
  `temperature` double DEFAULT NULL,
  `pulse_rate` double DEFAULT NULL,
  `systolic_bp` double DEFAULT NULL,
  `diastolic_bp` double DEFAULT NULL,
  `respiratory_rate` double DEFAULT NULL,
  `oxygen_saturation` int(11) DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `height` double DEFAULT NULL,
  `muac` double DEFAULT NULL,
  `hemoglobin` double DEFAULT NULL,
  `breast_exam_done` int(11) DEFAULT NULL,
  `pallor` int(11) DEFAULT NULL,
  `maturity` int(11) DEFAULT NULL,
  `fundal_height` double DEFAULT NULL,
  `fetal_presentation` int(11) DEFAULT NULL,
  `lie` int(11) DEFAULT NULL,
  `fetal_heart_rate` int(11) DEFAULT NULL,
  `fetal_movement` int(11) DEFAULT NULL,
  `who_stage` int(11) DEFAULT NULL,
  `cd4` int(11) DEFAULT NULL,
  `viral_load` int(11) DEFAULT NULL,
  `ldl` int(11) DEFAULT NULL,
  `arv_status` int(11) DEFAULT NULL,
  `test_1_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_expiry` date DEFAULT NULL,
  `test_1_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_expiry` date DEFAULT NULL,
  `test_2_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `final_test_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_given_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_hiv_tested` int(11) DEFAULT NULL,
  `partner_hiv_status` int(11) DEFAULT NULL,
  `prophylaxis_given` int(11) DEFAULT NULL,
  `baby_azt_dispensed` int(11) DEFAULT NULL,
  `baby_nvp_dispensed` int(11) DEFAULT NULL,
  `TTT` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `IPT_malaria` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `iron_supplement` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `deworming` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `bed_nets` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `urine_microscopy` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `urinary_albumin` int(11) DEFAULT NULL,
  `glucose_measurement` int(11) DEFAULT NULL,
  `urine_ph` int(11) DEFAULT NULL,
  `urine_gravity` int(11) DEFAULT NULL,
  `urine_nitrite_test` int(11) DEFAULT NULL,
  `urine_leukocyte_esterace_test` int(11) DEFAULT NULL,
  `urinary_ketone` int(11) DEFAULT NULL,
  `urine_bile_salt_test` int(11) DEFAULT NULL,
  `urine_bile_pigment_test` int(11) DEFAULT NULL,
  `urine_colour` int(11) DEFAULT NULL,
  `urine_turbidity` int(11) DEFAULT NULL,
  `urine_dipstick_for_blood` int(11) DEFAULT NULL,
  `syphilis_test_status` int(11) DEFAULT NULL,
  `syphilis_treated_status` int(11) DEFAULT NULL,
  `bs_mps` int(11) DEFAULT NULL,
  `anc_exercises` int(11) DEFAULT NULL,
  `tb_screening` int(11) DEFAULT NULL,
  `cacx_screening` int(11) DEFAULT NULL,
  `cacx_screening_method` int(11) DEFAULT NULL,
  `has_other_illnes` int(11) DEFAULT NULL,
  `counselled` int(11) DEFAULT NULL,
  `referred_from` int(11) DEFAULT NULL,
  `referred_to` int(11) DEFAULT NULL,
  `next_appointment_date` date DEFAULT NULL,
  `clinical_notes` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `who_stage` (`who_stage`),
  KEY `anc_visit_number` (`anc_visit_number`),
  KEY `final_test_result` (`final_test_result`),
  KEY `tb_screening` (`tb_screening`),
  KEY `syphilis_test_status` (`syphilis_test_status`),
  KEY `cacx_screening` (`cacx_screening`),
  KEY `next_appointment_date` (`next_appointment_date`),
  KEY `arv_status` (`arv_status`),
  CONSTRAINT `etl_mch_antenatal_visit_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_mch_enrollment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `service_type` int(11) DEFAULT NULL,
  `anc_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `first_anc_visit_date` date DEFAULT NULL,
  `gravida` int(11) DEFAULT NULL,
  `parity` int(11) DEFAULT NULL,
  `parity_abortion` int(11) DEFAULT NULL,
  `age_at_menarche` int(11) DEFAULT NULL,
  `lmp` date DEFAULT NULL,
  `lmp_estimated` int(11) DEFAULT NULL,
  `edd_ultrasound` date DEFAULT NULL,
  `blood_group` int(11) DEFAULT NULL,
  `serology` int(11) DEFAULT NULL,
  `tb_screening` int(11) DEFAULT NULL,
  `bs_for_mps` int(11) DEFAULT NULL,
  `hiv_status` int(11) DEFAULT NULL,
  `hiv_test_date` date DEFAULT NULL,
  `partner_hiv_status` int(11) DEFAULT NULL,
  `partner_hiv_test_date` date DEFAULT NULL,
  `urine_microscopy` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `urinary_albumin` int(11) DEFAULT NULL,
  `glucose_measurement` int(11) DEFAULT NULL,
  `urine_ph` int(11) DEFAULT NULL,
  `urine_gravity` int(11) DEFAULT NULL,
  `urine_nitrite_test` int(11) DEFAULT NULL,
  `urine_leukocyte_esterace_test` int(11) DEFAULT NULL,
  `urinary_ketone` int(11) DEFAULT NULL,
  `urine_bile_salt_test` int(11) DEFAULT NULL,
  `urine_bile_pigment_test` int(11) DEFAULT NULL,
  `urine_colour` int(11) DEFAULT NULL,
  `urine_turbidity` int(11) DEFAULT NULL,
  `urine_dipstick_for_blood` int(11) DEFAULT NULL,
  `date_of_discontinuation` datetime DEFAULT NULL,
  `discontinuation_reason` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `tb_screening` (`tb_screening`),
  KEY `hiv_status` (`hiv_status`),
  KEY `hiv_test_date` (`hiv_test_date`),
  KEY `partner_hiv_status` (`partner_hiv_status`),
  CONSTRAINT `etl_mch_enrollment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_mch_postnatal_visit` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `provider` int(11) DEFAULT NULL,
  `pnc_register_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pnc_visit_no` int(11) DEFAULT NULL,
  `delivery_date` date DEFAULT NULL,
  `mode_of_delivery` int(11) DEFAULT NULL,
  `place_of_delivery` int(11) DEFAULT NULL,
  `temperature` double DEFAULT NULL,
  `pulse_rate` double DEFAULT NULL,
  `systolic_bp` double DEFAULT NULL,
  `diastolic_bp` double DEFAULT NULL,
  `respiratory_rate` double DEFAULT NULL,
  `oxygen_saturation` int(11) DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `height` double DEFAULT NULL,
  `muac` double DEFAULT NULL,
  `hemoglobin` double DEFAULT NULL,
  `arv_status` int(11) DEFAULT NULL,
  `general_condition` int(11) DEFAULT NULL,
  `breast` int(11) DEFAULT NULL,
  `cs_scar` int(11) DEFAULT NULL,
  `gravid_uterus` int(11) DEFAULT NULL,
  `episiotomy` int(11) DEFAULT NULL,
  `lochia` int(11) DEFAULT NULL,
  `pallor` int(11) DEFAULT NULL,
  `pph` int(11) DEFAULT NULL,
  `mother_hiv_status` int(11) DEFAULT NULL,
  `condition_of_baby` int(11) DEFAULT NULL,
  `baby_feeding_method` int(11) DEFAULT NULL,
  `umblical_cord` int(11) DEFAULT NULL,
  `baby_immunization_started` int(11) DEFAULT NULL,
  `family_planning_counseling` int(11) DEFAULT NULL,
  `uterus_examination` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `uterus_cervix_examination` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vaginal_examination` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `parametrial_examination` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `external_genitalia_examination` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ovarian_examination` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pelvic_lymph_node_exam` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_1_kit_expiry` date DEFAULT NULL,
  `test_1_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_lot_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `test_2_kit_expiry` date DEFAULT NULL,
  `test_2_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `final_test_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_given_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_hiv_tested` int(11) DEFAULT NULL,
  `partner_hiv_status` int(11) DEFAULT NULL,
  `prophylaxis_given` int(11) DEFAULT NULL,
  `baby_azt_dispensed` int(11) DEFAULT NULL,
  `baby_nvp_dispensed` int(11) DEFAULT NULL,
  `pnc_exercises` int(11) DEFAULT NULL,
  `maternal_condition` int(11) DEFAULT NULL,
  `iron_supplementation` int(11) DEFAULT NULL,
  `fistula_screening` int(11) DEFAULT NULL,
  `cacx_screening` int(11) DEFAULT NULL,
  `cacx_screening_method` int(11) DEFAULT NULL,
  `family_planning_status` int(11) DEFAULT NULL,
  `family_planning_method` int(11) DEFAULT NULL,
  `referred_from` int(11) DEFAULT NULL,
  `referred_to` int(11) DEFAULT NULL,
  `clinical_notes` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `arv_status` (`arv_status`),
  KEY `mother_hiv_status` (`mother_hiv_status`),
  KEY `arv_status_2` (`arv_status`),
  CONSTRAINT `etl_mch_postnatal_visit_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_missed_appointments` (
  `id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `last_tca_date` date DEFAULT NULL,
  `last_visit_date` date DEFAULT NULL,
  `last_encounter_type` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `days_since_last_visit` int(11) DEFAULT NULL,
  `date_table_created` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_missed_appointments_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_otz_activity` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `orientation` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `leadership` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `participation` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_literacy` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transition_to_adult_care` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `making_decision_future` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `srh` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `beyond_third_ninety` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `attended_support_group` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `remarks` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_otz_activity_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_otz_enrollment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `orientation` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `leadership` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `participation` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_literacy` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transition_to_adult_care` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `making_decision_future` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `srh` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `beyond_third_ninety` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transfer_in` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_otz_enrollment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_ovc_enrolment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `caregiver_enrolled_here` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `caregiver_name` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `caregiver_gender` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `relationship_to_client` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `caregiver_phone_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `client_enrolled_cpims` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_offering_ovc` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ovc_comprehensive_program` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `dreams_program` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ovc_preventive_program` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_ovc_enrolment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patients_booked_today` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `patient_id` int(11) NOT NULL,
  `last_visit_date` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_patients_booked_today_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patient_contact` (
  `id` int(11) DEFAULT NULL,
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` date DEFAULT NULL,
  `first_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `middle_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `last_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sex` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `birth_date` datetime DEFAULT NULL,
  `physical_address` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `phone_contact` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_related_to` int(11) DEFAULT NULL,
  `patient_id` int(11) DEFAULT NULL,
  `relationship_type` int(11) DEFAULT NULL,
  `appointment_date` datetime DEFAULT NULL,
  `baseline_hiv_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ipv_outcome` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `marital_status` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `living_with_patient` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pns_approach` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `contact_listing_decline_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `consented_contact_listing` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_related_to` (`patient_related_to`),
  KEY `date_created` (`date_created`),
  KEY `id` (`id`),
  KEY `id_2` (`id`,`date_created`),
  CONSTRAINT `etl_patient_contact_ibfk_1` FOREIGN KEY (`patient_related_to`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patient_demographics` (
  `patient_id` int(11) NOT NULL,
  `given_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `middle_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `family_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `Gender` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `DOB` date DEFAULT NULL,
  `national_id_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `unique_patient_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_clinic_number` varchar(15) COLLATE utf8_unicode_ci DEFAULT NULL,
  `Tb_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `CPIMS_unique_identifier` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `openmrs_id` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `district_reg_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `hei_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `phone_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `birth_place` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `citizenship` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `email_address` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `occupation` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `next_of_kin` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `next_of_kin_phone` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `next_of_kin_relationship` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `marital_status` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `education_level` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `kdod_service_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cadre` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `rank` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `unit` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `dead` int(11) DEFAULT NULL,
  `death_date` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`patient_id`),
  KEY `patient_id` (`patient_id`),
  KEY `Gender` (`Gender`),
  KEY `unique_patient_no` (`unique_patient_no`),
  KEY `DOB` (`DOB`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patient_hiv_followup` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `visit_scheduled` int(11) DEFAULT NULL,
  `person_present` int(11) DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `systolic_pressure` double DEFAULT NULL,
  `diastolic_pressure` double DEFAULT NULL,
  `height` double DEFAULT NULL,
  `temperature` double DEFAULT NULL,
  `pulse_rate` double DEFAULT NULL,
  `respiratory_rate` double DEFAULT NULL,
  `oxygen_saturation` double DEFAULT NULL,
  `muac` double DEFAULT NULL,
  `nutritional_status` int(11) DEFAULT NULL,
  `population_type` int(11) DEFAULT NULL,
  `key_population_type` int(11) DEFAULT NULL,
  `who_stage` int(11) DEFAULT NULL,
  `presenting_complaints` int(11) DEFAULT NULL,
  `clinical_notes` varchar(600) COLLATE utf8_unicode_ci DEFAULT NULL,
  `on_anti_tb_drugs` int(11) DEFAULT NULL,
  `on_ipt` int(11) DEFAULT NULL,
  `ever_on_ipt` int(11) DEFAULT NULL,
  `cough` int(11) DEFAULT '-1',
  `fever` int(11) DEFAULT '-1',
  `weight_loss_poor_gain` int(11) DEFAULT '-1',
  `night_sweats` int(11) DEFAULT '-1',
  `tb_case_contact` int(11) DEFAULT '-1',
  `lethargy` int(11) DEFAULT '-1',
  `screened_for_tb` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `spatum_smear_ordered` int(11) DEFAULT NULL,
  `chest_xray_ordered` int(11) DEFAULT NULL,
  `genexpert_ordered` int(11) DEFAULT NULL,
  `spatum_smear_result` int(11) DEFAULT NULL,
  `chest_xray_result` int(11) DEFAULT NULL,
  `genexpert_result` int(11) DEFAULT NULL,
  `referral` int(11) DEFAULT NULL,
  `clinical_tb_diagnosis` int(11) DEFAULT NULL,
  `contact_invitation` int(11) DEFAULT NULL,
  `evaluated_for_ipt` int(11) DEFAULT NULL,
  `has_known_allergies` int(11) DEFAULT NULL,
  `has_chronic_illnesses_cormobidities` int(11) DEFAULT NULL,
  `has_adverse_drug_reaction` int(11) DEFAULT NULL,
  `substitution_first_line_regimen_date` date DEFAULT NULL,
  `substitution_first_line_regimen_reason` int(11) DEFAULT NULL,
  `substitution_second_line_regimen_date` date DEFAULT NULL,
  `substitution_second_line_regimen_reason` int(11) DEFAULT NULL,
  `second_line_regimen_change_date` date DEFAULT NULL,
  `second_line_regimen_change_reason` int(11) DEFAULT NULL,
  `pregnancy_status` int(11) DEFAULT NULL,
  `wants_pregnancy` int(11) DEFAULT NULL,
  `pregnancy_outcome` int(11) DEFAULT NULL,
  `anc_number` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `expected_delivery_date` date DEFAULT NULL,
  `ever_had_menses` int(11) DEFAULT NULL,
  `last_menstrual_period` date DEFAULT NULL,
  `menopausal` int(11) DEFAULT NULL,
  `gravida` int(11) DEFAULT NULL,
  `parity` int(11) DEFAULT NULL,
  `full_term_pregnancies` int(11) DEFAULT NULL,
  `abortion_miscarriages` int(11) DEFAULT NULL,
  `family_planning_status` int(11) DEFAULT NULL,
  `family_planning_method` int(11) DEFAULT NULL,
  `reason_not_using_family_planning` int(11) DEFAULT NULL,
  `tb_status` int(11) DEFAULT NULL,
  `started_anti_TB` int(11) DEFAULT NULL,
  `tb_rx_date` date DEFAULT NULL,
  `tb_treatment_no` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prophylaxis_given` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ctx_adherence` int(11) DEFAULT NULL,
  `ctx_dispensed` int(11) DEFAULT NULL,
  `dapsone_adherence` int(11) DEFAULT NULL,
  `dapsone_dispensed` int(11) DEFAULT NULL,
  `inh_dispensed` int(11) DEFAULT NULL,
  `arv_adherence` int(11) DEFAULT NULL,
  `poor_arv_adherence_reason` int(11) DEFAULT NULL,
  `poor_arv_adherence_reason_other` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pwp_disclosure` int(11) DEFAULT NULL,
  `pwp_partner_tested` int(11) DEFAULT NULL,
  `condom_provided` int(11) DEFAULT NULL,
  `substance_abuse_screening` int(11) DEFAULT NULL,
  `screened_for_sti` int(11) DEFAULT NULL,
  `cacx_screening` int(11) DEFAULT NULL,
  `sti_partner_notification` int(11) DEFAULT NULL,
  `at_risk_population` int(11) DEFAULT NULL,
  `system_review_finding` int(11) DEFAULT NULL,
  `next_appointment_date` date DEFAULT NULL,
  `refill_date` date DEFAULT NULL,
  `next_appointment_reason` int(11) DEFAULT NULL,
  `stability` int(11) DEFAULT NULL,
  `differentiated_care` int(11) DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  KEY `who_stage` (`who_stage`),
  KEY `pregnancy_status` (`pregnancy_status`),
  KEY `pregnancy_outcome` (`pregnancy_outcome`),
  KEY `family_planning_status` (`family_planning_status`),
  KEY `family_planning_method` (`family_planning_method`),
  KEY `tb_status` (`tb_status`),
  KEY `condom_provided` (`condom_provided`),
  KEY `ctx_dispensed` (`ctx_dispensed`),
  KEY `inh_dispensed` (`inh_dispensed`),
  KEY `at_risk_population` (`at_risk_population`),
  KEY `population_type` (`population_type`),
  KEY `key_population_type` (`key_population_type`),
  KEY `on_anti_tb_drugs` (`on_anti_tb_drugs`),
  KEY `on_ipt` (`on_ipt`),
  KEY `ever_on_ipt` (`ever_on_ipt`),
  KEY `differentiated_care` (`differentiated_care`),
  KEY `visit_date_2` (`visit_date`,`patient_id`),
  KEY `visit_date_3` (`visit_date`,`condom_provided`),
  KEY `visit_date_4` (`visit_date`,`family_planning_method`),
  CONSTRAINT `etl_patient_hiv_followup_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patient_program` (
  `uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `program` varchar(100) COLLATE utf8_unicode_ci NOT NULL,
  `date_enrolled` date NOT NULL,
  `date_completed` date DEFAULT NULL,
  `outcome` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`uuid`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `date_enrolled` (`date_enrolled`),
  KEY `date_completed` (`date_completed`),
  KEY `patient_id` (`patient_id`),
  KEY `outcome` (`outcome`),
  CONSTRAINT `etl_patient_program_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patient_program_discontinuation` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` datetime DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `program_uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `program_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `discontinuation_reason` int(11) DEFAULT NULL,
  `effective_discontinuation_date` date DEFAULT NULL,
  `trf_out_verified` int(11) DEFAULT NULL,
  `trf_out_verification_date` date DEFAULT NULL,
  `date_died` date DEFAULT NULL,
  `transfer_facility` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transfer_date` date DEFAULT NULL,
  `death_reason` int(11) DEFAULT NULL,
  `specific_death_cause` int(11) DEFAULT NULL,
  `natural_causes` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `non_natural_cause` varchar(200) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `visit_date_2` (`visit_date`,`program_name`,`patient_id`),
  KEY `visit_date_3` (`visit_date`,`patient_id`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `discontinuation_reason` (`discontinuation_reason`),
  KEY `date_died` (`date_died`),
  KEY `transfer_date` (`transfer_date`),
  CONSTRAINT `etl_patient_program_discontinuation_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_patient_triage` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `visit_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `height` double DEFAULT NULL,
  `systolic_pressure` double DEFAULT NULL,
  `diastolic_pressure` double DEFAULT NULL,
  `temperature` double DEFAULT NULL,
  `pulse_rate` double DEFAULT NULL,
  `respiratory_rate` double DEFAULT NULL,
  `oxygen_saturation` double DEFAULT NULL,
  `muac` double DEFAULT NULL,
  `nutritional_status` int(11) DEFAULT NULL,
  `last_menstrual_period` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_patient_triage_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_peer_calendar` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `client_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `hotspot_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `typology` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_hotspots` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `weekly_sex_acts` int(10) DEFAULT NULL,
  `monthly_condoms_required` int(10) DEFAULT NULL,
  `weekly_anal_sex_acts` int(10) DEFAULT NULL,
  `monthly_lubes_required` int(10) DEFAULT NULL,
  `daily_injections` int(10) DEFAULT NULL,
  `monthly_syringes_required` int(10) DEFAULT NULL,
  `years_in_sexwork_drugs` int(10) DEFAULT NULL,
  `experienced_violence` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `service_provided_within_last_month` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `monthly_n_and_s_distributed` int(10) DEFAULT NULL,
  `monthly_male_condoms_distributed` int(10) DEFAULT NULL,
  `monthly_lubes_distributed` int(10) DEFAULT NULL,
  `monthly_female_condoms_distributed` int(10) DEFAULT NULL,
  `monthly_self_test_kits_distributed` int(10) DEFAULT NULL,
  `received_clinical_service` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `violence_reported` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referred` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `health_edu` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `remarks` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `client_id` (`client_id`,`visit_date`),
  CONSTRAINT `etl_peer_calendar_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_peer_tracking` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `client_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `tracing_attempted` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tracing_not_attempted_reason` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `attempt_number` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tracing_date` date DEFAULT NULL,
  `tracing_type` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tracing_outcome` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_final_trace` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `tracing_outcome_status` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voluntary_exit_comment` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `status_in_program` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `source_of_information` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_informant` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `client_id` (`client_id`),
  KEY `status_in_program` (`status_in_program`),
  KEY `tracing_type` (`tracing_type`),
  CONSTRAINT `etl_peer_tracking_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_person_address` (
  `uuid` char(38) COLLATE utf8_unicode_ci NOT NULL,
  `patient_id` int(11) NOT NULL,
  `county` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sub_county` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `location` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ward` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sub_location` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `village` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `postal_address` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `land_mark` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`uuid`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  CONSTRAINT `etl_person_address_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_pharmacy_extract` (
  `obs_group_id` int(11) NOT NULL,
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) DEFAULT NULL,
  `encounter_name` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `drug` int(11) DEFAULT NULL,
  `is_arv` int(11) DEFAULT NULL,
  `is_ctx` int(11) DEFAULT NULL,
  `is_dapsone` int(11) DEFAULT NULL,
  `drug_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `dose` int(11) DEFAULT NULL,
  `unit` int(11) DEFAULT NULL,
  `frequency` int(11) DEFAULT NULL,
  `duration` int(11) DEFAULT NULL,
  `duration_units` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `duration_in_days` int(11) DEFAULT NULL,
  `prescription_provider` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `dispensing_provider` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `regimen` mediumtext COLLATE utf8_unicode_ci,
  `adverse_effects` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_of_refill` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  `date_voided` date DEFAULT NULL,
  PRIMARY KEY (`obs_group_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `drug` (`drug`),
  KEY `is_arv` (`is_arv`),
  CONSTRAINT `etl_pharmacy_extract_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_prep_behaviour_risk_assessment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `sexual_partner_hiv_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sexual_partner_on_art` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `high_risk_partner` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sex_with_multiple_partners` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ipv_gbv` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transactional_sex` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `recent_sti_infected` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `recurrent_pep_use` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `recurrent_sex_under_influence` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `inconsistent_no_condom_use` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sharing_drug_needles` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `assessment_outcome` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_education_offered` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_reduction` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `willing_to_take_prep` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `reason_not_willing` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_edu_offered` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `risk_education` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referral_for_prevention_services` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referral_facility` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `time_partner_hiv_positive_known` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_enrolled_ccc` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_ccc_number` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_art_start_date` date DEFAULT NULL,
  `serodiscordant_confirmation_date` date DEFAULT NULL,
  `recent_unprotected_sex_with_positive_partner` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `children_with_hiv_positive_partner` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_prep_behaviour_risk_assessment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_prep_discontinuation` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `discontinue_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `care_end_date` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `discontinue_reason` (`discontinue_reason`),
  KEY `care_end_date` (`care_end_date`),
  CONSTRAINT `etl_prep_discontinuation_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_prep_enrolment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `patient_type` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transfer_in_entry_point` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referred_from` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transit_from` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `transfer_in_date` date DEFAULT NULL,
  `transfer_from` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `initial_enrolment_date` date DEFAULT NULL,
  `date_started_prep_trf_facility` date DEFAULT NULL,
  `previously_on_prep` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `regimen` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_last_date` date DEFAULT NULL,
  `in_school` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_alias` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_relationship` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_phone` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `buddy_alt_phone` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_prep_enrolment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_prep_followup` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `sti_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `genital_ulcer_desease` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vaginal_discharge` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cervical_discharge` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pid` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `urethral_discharge` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `anal_discharge` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_sti_symptoms` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `sti_treated` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vmmc_screened` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vmmc_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vmmc_referred` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `lmp` date DEFAULT NULL,
  `pregnant` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `edd` date DEFAULT NULL,
  `planned_pregnancy` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `wanted_pregnancy` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `breastfeeding` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `fp_method` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ended_pregnancy` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `pregnancy_outcome` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `outcome_date` date DEFAULT NULL,
  `defects` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `has_chronic_illness` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness_onset_date` date DEFAULT NULL,
  `chronic_illness_drug` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness_dose` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness_units` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness_frequency` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness_duration` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `chronic_illness_duration_units` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adverse_reactions` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `medicine_reactions` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `reaction` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `severity` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `action_taken` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `known_allergies` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `allergen` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `allergy_reaction` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `allergy_severity` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `allergy_date` date DEFAULT NULL,
  `hiv_signs` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adherence_counselled` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_contraindicatios` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_plan` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `condoms_issued` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `number_of_condoms` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_given` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_date` date DEFAULT NULL,
  `reason_no_appointment` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `clinical_notes` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_prep_followup_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_prep_monthly_refill` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `risk_for_hiv_positive_partner` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `client_assessment` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adherence_assessment` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `poor_adherence_reasons` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_poor_adherence_reasons` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `adherence_counselling_done` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_status` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prescribed_prep_today` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prescribed_regimen` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prescribed_regimen_months` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_discontinue_reasons` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `prep_discontinue_other_reasons` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_given` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `next_appointment` date DEFAULT NULL,
  `remarks` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_prep_monthly_refill_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_PrEP_verification` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `client_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_enrolled` date DEFAULT NULL,
  `health_facility_accessing_PrEP` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_pepfar_site` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_initiated_PrEP` date DEFAULT NULL,
  `PrEP_regimen` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `information_source` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `PrEP_status` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `verification_date` date DEFAULT NULL,
  `discontinuation_reason` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_discontinuation_reason` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_date` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `client_id` (`client_id`),
  CONSTRAINT `etl_prep_verification_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_progress_note` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `notes` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `patient_id` (`patient_id`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  CONSTRAINT `etl_progress_note_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_script_status` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `script_name` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `start_time` datetime DEFAULT NULL,
  `stop_time` datetime DEFAULT NULL,
  `error` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_sti_treatment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `client_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `encounter_provider` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `visit_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `syndrome` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_syndrome` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `drug_prescription` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_drug_prescription` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `genital_exam_done` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `lab_referral` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `lab_form_number` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referred_to_facility` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `facility_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `partner_referral_done` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `given_lubes` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `no_of_lubes` int(10) DEFAULT NULL,
  `given_condoms` varchar(10) COLLATE utf8_unicode_ci DEFAULT NULL,
  `no_of_condoms` int(10) DEFAULT NULL,
  `provider_comments` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider_name` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `appointment_date` date DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `client_id` (`client_id`),
  KEY `visit_reason` (`visit_reason`),
  KEY `given_lubes` (`given_lubes`),
  KEY `given_condoms` (`given_condoms`),
  CONSTRAINT `etl_sti_treatment_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_tb_enrollment` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `provider` int(11) DEFAULT NULL,
  `date_treatment_started` date DEFAULT NULL,
  `district` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `district_registration_number` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `referred_by` int(11) DEFAULT NULL,
  `referral_date` date DEFAULT NULL,
  `date_transferred_in` date DEFAULT NULL,
  `facility_transferred_from` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `district_transferred_from` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_first_enrolled_in_tb_care` date DEFAULT NULL,
  `weight` double DEFAULT NULL,
  `height` double DEFAULT NULL,
  `treatment_supporter` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `relation_to_patient` int(11) DEFAULT NULL,
  `treatment_supporter_address` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_supporter_phone_contact` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `disease_classification` int(11) DEFAULT NULL,
  `patient_classification` int(11) DEFAULT NULL,
  `pulmonary_smear_result` int(11) DEFAULT NULL,
  `has_extra_pulmonary_pleurial_effusion` int(11) DEFAULT NULL,
  `has_extra_pulmonary_milliary` int(11) DEFAULT NULL,
  `has_extra_pulmonary_lymph_node` int(11) DEFAULT NULL,
  `has_extra_pulmonary_menengitis` int(11) DEFAULT NULL,
  `has_extra_pulmonary_skeleton` int(11) DEFAULT NULL,
  `has_extra_pulmonary_abdominal` int(11) DEFAULT NULL,
  `has_extra_pulmonary_other` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `treatment_outcome` int(11) DEFAULT NULL,
  `treatment_outcome_date` date DEFAULT NULL,
  `date_of_discontinuation` datetime DEFAULT NULL,
  `discontinuation_reason` int(11) DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `disease_classification` (`disease_classification`),
  KEY `patient_classification` (`patient_classification`),
  KEY `pulmonary_smear_result` (`pulmonary_smear_result`),
  KEY `date_first_enrolled_in_tb_care` (`date_first_enrolled_in_tb_care`),
  CONSTRAINT `etl_tb_enrollment_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_tb_follow_up_visit` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `spatum_test` int(11) DEFAULT NULL,
  `spatum_result` int(11) DEFAULT NULL,
  `result_serial_number` varchar(20) COLLATE utf8_unicode_ci DEFAULT NULL,
  `quantity` double DEFAULT NULL,
  `date_test_done` date DEFAULT NULL,
  `bacterial_colonie_growth` int(11) DEFAULT NULL,
  `number_of_colonies` double DEFAULT NULL,
  `resistant_s` int(11) DEFAULT NULL,
  `resistant_r` int(11) DEFAULT NULL,
  `resistant_inh` int(11) DEFAULT NULL,
  `resistant_e` int(11) DEFAULT NULL,
  `sensitive_s` int(11) DEFAULT NULL,
  `sensitive_r` int(11) DEFAULT NULL,
  `sensitive_inh` int(11) DEFAULT NULL,
  `sensitive_e` int(11) DEFAULT NULL,
  `test_date` date DEFAULT NULL,
  `hiv_status` int(11) DEFAULT NULL,
  `next_appointment_date` date DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `hiv_status` (`hiv_status`),
  CONSTRAINT `etl_tb_follow_up_visit_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_tb_screening` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `patient_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `cough_for_2wks_or_more` int(11) DEFAULT NULL,
  `confirmed_tb_contact` int(11) DEFAULT NULL,
  `fever_for_2wks_or_more` int(11) DEFAULT NULL,
  `noticeable_weight_loss` int(11) DEFAULT NULL,
  `night_sweat_for_2wks_or_more` int(11) DEFAULT NULL,
  `lethargy` int(11) DEFAULT NULL,
  `spatum_smear_ordered` int(11) DEFAULT NULL,
  `chest_xray_ordered` int(11) DEFAULT NULL,
  `genexpert_ordered` int(11) DEFAULT NULL,
  `spatum_smear_result` int(11) DEFAULT NULL,
  `chest_xray_result` int(11) DEFAULT NULL,
  `genexpert_result` int(11) DEFAULT NULL,
  `referral` int(11) DEFAULT NULL,
  `clinical_tb_diagnosis` int(11) DEFAULT NULL,
  `resulting_tb_status` int(11) DEFAULT NULL,
  `contact_invitation` int(11) DEFAULT NULL,
  `evaluated_for_ipt` int(11) DEFAULT NULL,
  `started_anti_TB` int(11) DEFAULT NULL,
  `tb_treatment_start_date` date DEFAULT NULL,
  `tb_prophylaxis` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `notes` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `person_present` int(11) DEFAULT '978',
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `cough_for_2wks_or_more` (`cough_for_2wks_or_more`),
  KEY `confirmed_tb_contact` (`confirmed_tb_contact`),
  KEY `noticeable_weight_loss` (`noticeable_weight_loss`),
  KEY `night_sweat_for_2wks_or_more` (`night_sweat_for_2wks_or_more`),
  KEY `resulting_tb_status` (`resulting_tb_status`),
  CONSTRAINT `etl_tb_screening_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_treatment_verification` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `provider` int(11) DEFAULT NULL,
  `client_id` int(11) NOT NULL,
  `visit_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `location_id` int(11) DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `date_diagnosed_with_hiv` date DEFAULT NULL,
  `art_health_facility` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `ccc_number` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `is_pepfar_site` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_initiated_art` date DEFAULT NULL,
  `current_regimen` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `information_source` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `cd4_test_date` date DEFAULT NULL,
  `cd4` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_test_date` date DEFAULT NULL,
  `viral_load` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `disclosed_status` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `person_disclosed_to` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `other_person_disclosed_to` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `IPT_start_date` date DEFAULT NULL,
  `IPT_completion_date` date DEFAULT NULL,
  `on_diff_care` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `in_support_group` varchar(11) COLLATE utf8_unicode_ci DEFAULT NULL,
  `support_group_name` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `opportunistic_infection` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `oi_diagnosis_date` date DEFAULT NULL,
  `oi_treatment_start_date` date DEFAULT NULL,
  `oi_treatment_end_date` date DEFAULT NULL,
  `comment` varchar(100) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `client_id` (`client_id`),
  CONSTRAINT `etl_treatment_verification_ibfk_1` FOREIGN KEY (`client_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;


CREATE TABLE IF NOT EXISTS `etl_viral_load` (
  `uuid` char(38) COLLATE utf8_unicode_ci DEFAULT NULL,
  `encounter_id` int(11) NOT NULL,
  `patient_id` int(11) NOT NULL,
  `location_id` int(11) DEFAULT NULL,
  `visit_date` date DEFAULT NULL,
  `order_date` date DEFAULT NULL,
  `date_of_result` date DEFAULT NULL,
  `order_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `previous_vl_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `current_vl_result` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `previous_vl_date` date DEFAULT NULL,
  `previous_vl_reason` varchar(255) COLLATE utf8_unicode_ci DEFAULT NULL,
  `vl_months_since_hiv_enrollment` int(11) DEFAULT NULL,
  `vl_months_since_otz_enrollment` int(11) DEFAULT NULL,
  `eligibility` varchar(50) COLLATE utf8_unicode_ci DEFAULT NULL,
  `date_created` datetime NOT NULL,
  `date_last_modified` datetime DEFAULT NULL,
  `voided` int(11) DEFAULT NULL,
  PRIMARY KEY (`encounter_id`),
  UNIQUE KEY `unique_uuid` (`uuid`),
  KEY `visit_date` (`visit_date`),
  KEY `encounter_id` (`encounter_id`),
  KEY `patient_id` (`patient_id`),
  KEY `patient_id_2` (`patient_id`,`visit_date`),
  CONSTRAINT `etl_viral_load_ibfk_1` FOREIGN KEY (`patient_id`) REFERENCES `etl_patient_demographics` (`patient_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COLLATE=utf8_unicode_ci;